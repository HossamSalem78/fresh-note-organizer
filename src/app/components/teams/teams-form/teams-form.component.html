<main>
    <div class="form-container">
    
      <h3 class="form-title">
        <i class="fa-solid fa-arrow-left" (click)="goBack()"></i>
        {{ isEditing ? 'Editing Team: ' + newTeam.name : 'Create New Team' }}
      </h3>
      <form (ngSubmit)="onSubmit()" #teamForm="ngForm">
        <div class="form-group">
          <label for="title" class="form-label">
            Team Name
            <span class="required">*</span>
          </label>
          <input 
            type="text" 
            id="name" 
            name="name" 
            [(ngModel)]="newTeam.name" 
            required
            class="form-input"
            #nameInput="ngModel"
            placeholder="Enter team name">
            @if(nameInput.invalid && nameInput.touched){
              <div class="error-message">
                Name is required
              </div>
            }
        </div>
        <div class="form-group">
          <label class="form-label">Members</label>
          <div class="members-checkboxes">
            @for (member of availableMembers; track member.id) {
              <label class="member-checkbox">
                <input 
                  type="checkbox" 
                  [value]="member.id"
                  [checked]="newTeam.members.includes(member.id)"
                  (change)="onMemberToggle(member.id, $event)">
                <span class="member-label">{{ member.name }}</span>
              </label>
            }
          </div>
      </div>
        
      <button type="submit" class="btn btn-primary" [disabled]="teamForm.invalid">
        {{ isEditing ? 'Update Team' : 'Create Team' }}
      </button>
      </form>
    </div>
  </main>